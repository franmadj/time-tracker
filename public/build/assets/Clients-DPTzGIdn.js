import{k as w,h as O,T as U,o as p,f as h,a as o,u as t,w as i,F as k,Z as j,b as s,l as z,m as x,i as E,p as F,t as V,d as $,n as T,q as A,O as L}from"./app-DPnApB4g.js";import{_ as R}from"./AuthenticatedLayout-CryNvS0J.js";import{_ as X,a as q}from"./DangerButton-CoxAGWRV.js";import{S as Z}from"./SaveButton-Du63H9Xn.js";import{_ as u,a as b,b as d}from"./TextInput-Z2BqUOoq.js";import{X as G,_ as J}from"./ClientCard-CYLx-i7R.js";import"./ApplicationLogo-Cu6Y3gsS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-B3tPaVM3.js";const P=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Clients",-1),Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 flex flex-wrap justify-between gap-5"},ee=["onClick","onDragstart","onDrop"],se={class:"p-4 text-white bg-blue-500 min-w-[360px] min-h-[220px] w-fit rounded flex justify-center items-center shadow-2xl"},oe=s("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},null,-1),te=[oe],le={class:"p-6"},re=s("h2",{class:"text-lg font-medium text-gray-900"}," Create new client ",-1),ae={class:"mt-6"},ne={class:"mt-6"},ce=s("option",{value:"€"},"€",-1),ie=s("option",{value:"$"},"$",-1),ue=[ce,ie],de={class:"mt-6"},me={class:"relative w-3/4"},_e={class:"absolute right-2 top-[9px]"},pe={class:"mt-6"},he={class:"relative w-3/4"},ve={class:"absolute right-2 top-[9px]"},fe={class:"mt-6"},ge={class:"mt-6 flex justify-end"},Se={__name:"Clients",props:{clients:{type:Array}},setup(D){const v=w(!1),f=w(null);let C="#ccc";const S=D,m=O(()=>S.clients),N=r=>{L.get(route("client.show",r))},g=w(null),H=r=>{g.value=r},B=r=>{r.preventDefault()},I=r=>{const a=m.value.splice(g.value,1)[0];m.value.splice(r,0,a),g.value=null;let l=[],c=0;m.value.forEach(n=>{l.push({id:n.id,order:c}),c++}),console.log(l),axios.patch(route("client.ordering"),{clientsOrder:l}).then(n=>{n.data.success}).catch(function(n){})},e=U({name:"",hourly_rate:"25",hourly_rate_two:"",currency:"$"}),K=()=>{console.log("d"),v.value=!0,A(()=>f.value.focus())},_=()=>{console.log(e),e.transform(r=>({...r,color:C})).post(route("client.store"),{preserveScroll:!0,onSuccess:()=>y(),onError:()=>f.value.focus(),onFinish:()=>e.reset()})},y=()=>{v.value=!1,e.reset()},M=r=>{console.log(r.cssColor),C=r.cssColor};return(r,a)=>(p(),h(k,null,[o(t(j),{title:"Dashboard"}),o(R,null,{header:i(()=>[P]),default:i(()=>[s("div",Q,[s("div",W,[s("div",Y,[(p(!0),h(k,null,z(m.value,(l,c)=>(p(),h("div",{key:c,draggable:!0,onClick:n=>N(l.slug),onDragstart:n=>H(c),onDragover:B,onDrop:n=>I(c),class:"p-4 pl-9 pt-9 hover:opacity-90 text-white bg-blue-500 min-w-[360px] min-h-[220px] w-fit rounded relative overflow-hidden shadow-xl border border-slate-400 cursor-pointer"},[o(J,{client:l},null,8,["client"])],40,ee))),128)),s("div",se,[(p(),h("svg",{class:"cursor-pointer w-20 h-20 opacity-50",onClick:K,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},te))]),o(X,{show:v.value,onClose:y},{default:i(()=>[s("div",le,[re,s("div",ae,[o(u,{for:"name",value:"name",class:"sr-only"}),o(b,{id:"name",ref_key:"clientNameInput",ref:f,modelValue:t(e).name,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).name=l),type:"text",class:"mt-1 block w-3/4",placeholder:"Client Name",onKeyup:x(_,["enter"])},null,8,["modelValue"]),o(d,{message:t(e).errors.name,class:"mt-2"},null,8,["message"])]),s("div",ne,[o(u,{for:"currency",value:"currency",class:"sr-only"}),E(s("select",{class:"mt-1 block w-3/4 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":a[1]||(a[1]=l=>t(e).currency=l)},ue,512),[[F,t(e).currency]]),o(d,{message:t(e).errors.currency,class:"mt-2"},null,8,["message"])]),s("div",de,[o(u,{for:"hourly_rate",value:"hourly_rate",class:"sr-only"}),s("div",me,[s("span",_e,V(t(e).currency)+" / Hour",1),o(b,{id:"hourly_rate",modelValue:t(e).hourly_rate,"onUpdate:modelValue":a[2]||(a[2]=l=>t(e).hourly_rate=l),type:"text",class:"mt-1 block w-3/4",placeholder:"Hourly Rate",onKeyup:x(_,["enter"])},null,8,["modelValue"])]),o(d,{message:t(e).errors.hourly_rate,class:"mt-2"},null,8,["message"])]),s("div",pe,[o(u,{for:"hourly_rate_two",value:"hourly rate two",class:"sr-only"}),s("div",he,[s("span",ve,V(t(e).currency)+" / Hour",1),o(b,{id:"hourly_rate_two",modelValue:t(e).hourly_rate_two,"onUpdate:modelValue":a[3]||(a[3]=l=>t(e).hourly_rate_two=l),type:"text",class:"mt-1 block w-3/4",placeholder:"Second Hourly Rate",onKeyup:x(_,["enter"])},null,8,["modelValue"])]),o(d,{message:t(e).errors.hourly_rate_two,class:"mt-2"},null,8,["message"])]),s("div",fe,[o(u,{for:"color",value:"color",class:"sr-only"}),o(t(G),{id:"color","visible-formats":["hex"],onColorChange:M}),o(d,{message:t(e).errors.color,class:"mt-2"},null,8,["message"])]),s("div",ge,[o(q,{onClick:y},{default:i(()=>[$(" Cancel ")]),_:1}),o(Z,{class:T(["ms-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing,onClick:_},{default:i(()=>[$(" Save ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])])])])]),_:1})],64))}};export{Se as default};
