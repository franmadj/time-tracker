import{_ as C}from"./AuthenticatedLayout-BUUBOBMp.js";import{k as T,z as M,T as z,f as m,a as n,u,w as a,F as v,o as f,Z as H,b as t,j as B,d as r,t as i,l as S,n as L}from"./app-BloNxtzK.js";import{_ as $,a as I,D as N}from"./DangerButton-CmKKXpRm.js";import"./ApplicationLogo-BKNd8GOD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},Z={class:"flex justify-between"},A={class:"font-bold"},P={class:"w-full mx-auto"},U={class:"text-center px-5 py-1 text-lg font-bold bg-blue-200 border border-b-white"},q={class:"text-center py-1 text-lg font-bold bg-red-200 border border-b-white"},G={class:"py-1 text-lg font-bold flex items-center justify-center bg-green-200 border border-b-white"},J=["onClick"],K={class:"p-6"},Q={class:"mt-6 flex justify-end"},te={__name:"TimeTable",props:{project:{type:Object},client:{type:Object}},setup(d){const b=T(!1),c=d;M(()=>{console.log("project",c.project),c.project.total_time&&(b.value=p(c.project.total_time))});const y=o=>new Date(o).toLocaleString("it-IT",{timeZone:"UTC"}),D=(o,e)=>{const s=new Date(o),_=new Date(e).getTime()-s.getTime(),V=Math.round(_/1e3);return p(V)},p=o=>{let e=Math.floor(o/3600),s=Math.floor(o%(60*60)/60),l=Math.floor(o%60/1);return e=(e<10?"0":"")+e,s=(s<10?"0":"")+s,l=(l<10?"0":"")+l,e+":"+s+":"+l},g=T(!1);let x=!1;const h=z({name:""}),k=o=>{x=o,g.value=!0},j=()=>{h.delete(route("timeTable.destroy",x),{preserveScroll:!0,onSuccess:()=>{w(),b.value=p(c.project.total_time)}})},w=()=>{x=!1,g.value=!1};return(o,e)=>(f(),m(v,null,[n(u(H),{title:"Dashboard"}),n(C,null,{header:a(()=>e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Project",-1)])),default:a(()=>[t("div",E,[t("div",F,[t("div",O,[t("div",Z,[n(u(B),{href:o.route("client.show",d.client.slug),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:a(()=>e[1]||(e[1]=[r("Back")])),_:1},8,["href"]),t("h1",null,i(d.project.name),1),t("p",null,[e[2]||(e[2]=r("Total time: ")),t("span",A,i(b.value),1)])]),e[5]||(e[5]=t("h3",{class:"text-center my-3 text-xl font-bold"},"Time Table",-1)),t("table",P,[t("tbody",null,[e[4]||(e[4]=t("tr",null,[t("th",{class:"text-center mb-2"},"StartTime"),t("th",{class:"text-center mb-2"},"EndTime"),t("th",{class:"text-center mb-2"},"Total Time")],-1)),(f(!0),m(v,null,S(d.project.times,(s,l)=>(f(),m("tr",{key:l},[t("td",U,i(y(s.started_at)),1),t("td",q,i(y(s.ended_at)),1),t("td",G,[r(i(D(s.started_at,s.ended_at))+" ",1),(f(),m("svg",{onClick:_=>k(s.id),class:"w-3 h-3 cursor-pointer fill-black ml-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e[3]||(e[3]=[t("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"},null,-1)]),8,J))])]))),128))])])])])]),n($,{show:g.value,onClose:w},{default:a(()=>[t("div",K,[e[8]||(e[8]=t("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this item? ",-1)),t("div",Q,[n(I,{onClick:w},{default:a(()=>e[6]||(e[6]=[r(" Cancel ")])),_:1}),n(N,{class:L(["ms-3",{"opacity-25":u(h).processing}]),disabled:u(h).processing,onClick:j},{default:a(()=>e[7]||(e[7]=[r(" Delete Item ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{te as default};
