import{k as w,h as M,T as U,f as _,a as t,u as l,w as c,F as k,o as h,Z as j,b as o,l as E,m as x,i as F,p as T,t as V,d as $,n as A,q as L,N as O}from"./app-BloNxtzK.js";import{_ as R}from"./AuthenticatedLayout-BUUBOBMp.js";import{_ as q,a as Z}from"./DangerButton-CmKKXpRm.js";import{S as G}from"./SaveButton-jhdoi0T8.js";import{_ as u,a as b,b as d}from"./TextInput-PwV-8zbG.js";import{z as J,_ as P}from"./ClientCard-BFVC6629.js";import"./ApplicationLogo-BKNd8GOD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-B3tPaVM3.js";const Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 flex flex-wrap justify-between gap-5"},Y=["onClick","onDragstart","onDrop"],ee={class:"p-4 text-white bg-blue-500 min-w-[360px] min-h-[220px] w-fit rounded flex justify-center items-center shadow-2xl"},se={class:"p-6"},oe={class:"mt-6"},te={class:"mt-6"},le={class:"mt-6"},re={class:"relative w-3/4"},ae={class:"absolute right-2 top-[9px]"},ne={class:"mt-6"},ie={class:"relative w-3/4"},ce={class:"absolute right-2 top-[9px]"},ue={class:"mt-6"},de={class:"mt-6 flex justify-end"},xe={__name:"Clients",props:{clients:{type:Array}},setup(D){const v=w(!1),f=w(null);let C="#ccc";const N=D,m=M(()=>N.clients),S=a=>{O.get(route("client.show",a))},g=w(null),H=a=>{g.value=a},z=a=>{a.preventDefault()},B=a=>{const e=m.value.splice(g.value,1)[0];m.value.splice(a,0,e),g.value=null;let r=[],i=0;m.value.forEach(n=>{r.push({id:n.id,order:i}),i++}),console.log(r),axios.patch(route("client.ordering"),{clientsOrder:r}).then(n=>{n.data.success}).catch(function(n){})},s=U({name:"",hourly_rate:"25",hourly_rate_two:"",currency:"$"}),I=()=>{console.log("d"),v.value=!0,L(()=>f.value.focus())},p=()=>{console.log(s),s.transform(a=>({...a,color:C})).post(route("client.store"),{preserveScroll:!0,onSuccess:()=>y(),onError:()=>f.value.focus(),onFinish:()=>s.reset()})},y=()=>{v.value=!1,s.reset()},K=a=>{console.log(a.cssColor),C=a.cssColor};return(a,e)=>(h(),_(k,null,[t(l(j),{title:"Dashboard"}),t(R,null,{header:c(()=>e[4]||(e[4]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Clients",-1)])),default:c(()=>[o("div",Q,[o("div",W,[o("div",X,[(h(!0),_(k,null,E(m.value,(r,i)=>(h(),_("div",{key:i,draggable:!0,onClick:n=>S(r.slug),onDragstart:n=>H(i),onDragover:z,onDrop:n=>B(i),class:"p-4 pl-9 pt-9 hover:opacity-90 text-white bg-blue-500 min-w-[360px] min-h-[220px] w-fit rounded relative overflow-hidden shadow-xl border border-slate-400 cursor-pointer"},[t(P,{client:r},null,8,["client"])],40,Y))),128)),o("div",ee,[(h(),_("svg",{class:"cursor-pointer w-20 h-20 opacity-50",onClick:I,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e[5]||(e[5]=[o("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},null,-1)])))]),t(q,{show:v.value,onClose:y},{default:c(()=>[o("div",se,[e[9]||(e[9]=o("h2",{class:"text-lg font-medium text-gray-900"}," Create new client ",-1)),o("div",oe,[t(u,{for:"name",value:"name",class:"sr-only"}),t(b,{id:"name",ref_key:"clientNameInput",ref:f,modelValue:l(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>l(s).name=r),type:"text",class:"mt-1 block w-3/4",placeholder:"Client Name",onKeyup:x(p,["enter"])},null,8,["modelValue"]),t(d,{message:l(s).errors.name,class:"mt-2"},null,8,["message"])]),o("div",te,[t(u,{for:"currency",value:"currency",class:"sr-only"}),F(o("select",{class:"mt-1 block w-3/4 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":e[1]||(e[1]=r=>l(s).currency=r)},e[6]||(e[6]=[o("option",{value:"€"},"€",-1),o("option",{value:"$"},"$",-1)]),512),[[T,l(s).currency]]),t(d,{message:l(s).errors.currency,class:"mt-2"},null,8,["message"])]),o("div",le,[t(u,{for:"hourly_rate",value:"hourly_rate",class:"sr-only"}),o("div",re,[o("span",ae,V(l(s).currency)+" / Hour",1),t(b,{id:"hourly_rate",modelValue:l(s).hourly_rate,"onUpdate:modelValue":e[2]||(e[2]=r=>l(s).hourly_rate=r),type:"text",class:"mt-1 block w-3/4",placeholder:"Hourly Rate",onKeyup:x(p,["enter"])},null,8,["modelValue"])]),t(d,{message:l(s).errors.hourly_rate,class:"mt-2"},null,8,["message"])]),o("div",ne,[t(u,{for:"hourly_rate_two",value:"hourly rate two",class:"sr-only"}),o("div",ie,[o("span",ce,V(l(s).currency)+" / Hour",1),t(b,{id:"hourly_rate_two",modelValue:l(s).hourly_rate_two,"onUpdate:modelValue":e[3]||(e[3]=r=>l(s).hourly_rate_two=r),type:"text",class:"mt-1 block w-3/4",placeholder:"Second Hourly Rate",onKeyup:x(p,["enter"])},null,8,["modelValue"])]),t(d,{message:l(s).errors.hourly_rate_two,class:"mt-2"},null,8,["message"])]),o("div",ue,[t(u,{for:"color",value:"color",class:"sr-only"}),t(l(J),{id:"color","visible-formats":["hex"],onColorChange:K}),t(d,{message:l(s).errors.color,class:"mt-2"},null,8,["message"])]),o("div",de,[t(Z,{onClick:y},{default:c(()=>e[7]||(e[7]=[$(" Cancel ")])),_:1}),t(G,{class:A(["ms-3",{"opacity-25":l(s).processing}]),disabled:l(s).processing,onClick:p},{default:c(()=>e[8]||(e[8]=[$(" Save ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])])])])]),_:1})],64))}};export{xe as default};
